{"version":3,"sources":["FileSend.js","assets/transfileLogo.svg","DownloadFile.js","App.js","index.js"],"names":["FileSend","props","handleMessage","event","setState","message","target","value","handleUpload","fileList","state","formData","FormData","forEach","file","append","trim","uploading","axios","post","window","location","protocol","host","then","res","link","data","slug","catch","err","resetLink","TextArea","Input","this","Text","Typography","Link","Title","Paragraph","maxCount","onRemove","index","indexOf","newFileList","slice","splice","beforeUpload","progress","strokeColor","strokeWidth","format","percent","parseFloat","toFixed","style","textAlign","align","direction","icon","UploadOutlined","autoSize","minRows","maxRows","onChange","placeholder","CheckCircleTwoTone","twoToneColor","fontSize","level","code","href","copyable","type","shape","onClick","loading","disabled","length","Component","DownloadFile","download","blob","Blob","Uint8Array","fileDownload","filename","downloadFile","url","match","params","method","responseType","info","console","log","get","name","minWidth","tip","DownloadOutlined","color","App","className","src","logo","alt","height","margin","xs","sm","md","lg","xl","exact","path","component","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.ca44623a.chunk.js","sourcesContent":["import React, { Component } from 'react';\r\nimport { Upload, Button, Input, Card, Space, Typography } from 'antd';\r\nimport { UploadOutlined, CheckCircleTwoTone } from '@ant-design/icons';\r\nimport axios from 'axios';\r\n\r\nclass FileSend extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            message: '',\r\n            fileList: [],\r\n            uploading: false,\r\n            link: ''\r\n        }\r\n    }\r\n\r\n    handleMessage = (event) => {\r\n        this.setState({\r\n            message: event.target.value\r\n        });\r\n    }\r\n\r\n    handleUpload = () => {\r\n        const { fileList } = this.state;\r\n        const formData = new FormData();\r\n        fileList.forEach(file => {\r\n            formData.append('file', file);\r\n            formData.append('message', this.state.message.trim());\r\n        });\r\n\r\n        this.setState({\r\n            uploading: true,\r\n        });\r\n\r\n\r\n        axios.post(`${window.location.protocol}//${window.location.host}/uploads`, formData)\r\n            .then((res) => this.setState({ link: `${window.location.protocol}//${window.location.host}/${res.data.data.slug}`, uploading: false }))\r\n            .catch((err) => this.setState({ uploading: false }));\r\n\r\n        // You can use any AJAX library you like\r\n        // reqwest({\r\n        //     url: 'https://www.mocky.io/v2/5cc8019d300000980a055e76',\r\n        //     method: 'post',\r\n        //     processData: false,\r\n        //     data: formData,\r\n        //     success: () => {\r\n        //         this.setState({\r\n        //             fileList: [],\r\n        //             uploading: false,\r\n        //         });\r\n        //         message.success('upload successfully.');\r\n        //     },\r\n        //     error: () => {\r\n        //         this.setState({\r\n        //             uploading: false,\r\n        //         });\r\n        //         message.error('upload failed.');\r\n        //     },\r\n        // });\r\n        // console.log({ \"file\": formData.get('file'), \"message\": formData.get('message') });\r\n    };\r\n\r\n    resetLink = () => {\r\n        this.setState({\r\n            link: '',\r\n            fileList: [],\r\n            message: ''\r\n        })\r\n    }\r\n\r\n    render() {\r\n        const { TextArea } = Input;\r\n        const { uploading, fileList } = this.state;\r\n        const { Text, Link, Title, Paragraph } = Typography;\r\n\r\n        const props = {\r\n            maxCount: 1,\r\n            onRemove: file => {\r\n                this.setState(state => {\r\n                    const index = state.fileList.indexOf(file);\r\n                    const newFileList = state.fileList.slice();\r\n                    newFileList.splice(index, 1);\r\n                    return {\r\n                        fileList: newFileList,\r\n                    };\r\n                });\r\n            },\r\n            beforeUpload: file => {\r\n                this.setState(state => ({\r\n                    fileList: [file],\r\n                }));\r\n                return false;\r\n            },\r\n            fileList,\r\n            progress: {\r\n                strokeColor: {\r\n                    '0%': '#108ee9',\r\n                    '100%': '#87d068',\r\n                },\r\n                strokeWidth: 3,\r\n                format: percent => `${parseFloat(percent.toFixed(2))}%`\r\n            }\r\n        };\r\n\r\n        return (\r\n            <>\r\n                <Card style={{ textAlign: 'center' }}>\r\n                    <Space align=\"center\" direction=\"vertical\">\r\n                        {!this.state.link &&\r\n                            <>\r\n                                <Upload {...props}>\r\n                                    <Button icon={<UploadOutlined />}>Upload File</Button>\r\n                                </Upload>\r\n                                <TextArea autoSize={{ minRows: 6, maxRows: 9 }} value={this.state.message} onChange={this.handleMessage} placeholder=\"Message...\" />\r\n                            </>}\r\n                        {this.state.link &&\r\n                            <>\r\n                                <CheckCircleTwoTone twoToneColor=\"#52c41a\" style={{ fontSize: '70px' }} />\r\n                                <Title>You're done!</Title>\r\n                                <Title level={5}>Copy the download link below.</Title>\r\n                            </>}\r\n                        {this.state.link &&\r\n                            <Text code>\r\n                                <Link href={this.state.link} target=\"_blank\">\r\n                                    <Paragraph copyable>\r\n                                        {this.state.link}\r\n                                    </Paragraph>\r\n                                </Link>\r\n                            </Text>}\r\n                        {this.state.link ? <Button type=\"primary\" shape=\"round\" onClick={this.resetLink}>Another Link</Button> : <Button type=\"primary\" shape=\"round\" loading={uploading} disabled={fileList.length === 0} onClick={this.handleUpload}>Get Link</Button>}\r\n                    </Space>\r\n                </Card>\r\n            </>\r\n        )\r\n    }\r\n}\r\n\r\nexport default FileSend","export default __webpack_public_path__ + \"static/media/transfileLogo.4e970537.svg\";","import React, { Component } from 'react'\r\nimport { Card, Divider, Button, Typography, Spin, message } from 'antd';\r\nimport { DownloadOutlined } from '@ant-design/icons';\r\nimport axios from 'axios';\r\nimport fileDownload from 'js-file-download';\r\n\r\nexport class DownloadFile extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            message: '',\r\n            filename: '',\r\n            file: null,\r\n            loading: true\r\n        }\r\n    }\r\n\r\n\r\n    componentDidMount() {\r\n        axios.get(`${window.location.protocol}//${window.location.host}/uploads/${this.props.match.params.slug}`)\r\n            .then((res) => {\r\n                this.setState({\r\n                    message: res.data.message,\r\n                    filename: res.data.name,\r\n                    loading: false\r\n                });\r\n            })\r\n            .catch((err) => {\r\n                this.setState({\r\n                    message: 'File not found!',\r\n                });\r\n            });\r\n    }\r\n\r\n    download = () => {\r\n        let blob = new Blob([new Uint8Array(this.state.file.data)]);\r\n        fileDownload(blob, this.state.filename);\r\n    }\r\n\r\n    downloadFile = () => {\r\n        axios({\r\n            url: `${window.location.protocol}//${window.location.host}/download/${this.props.match.params.slug}`,\r\n            method: 'GET',\r\n            responseType: 'blob'\r\n        })\r\n            .then((res) => {\r\n                message.info('Download started.');\r\n                fileDownload(res.data, this.state.filename);\r\n            })\r\n            .catch((err) => console.log(err));\r\n    }\r\n\r\n    render() {\r\n        const { Title, Text } = Typography;\r\n        return (\r\n            <div>\r\n                <Card style={{ minWidth: '240px', textAlign: 'center' }}>\r\n                    {this.state.loading && <Spin tip=\"Fetching file from server please wait...\"></Spin>}\r\n                    {!this.state.loading &&\r\n                        <>\r\n                            <DownloadOutlined style={{ fontSize: '70px', color: '#ccc' }} />\r\n                            <Title level={4}>Ready when you are!</Title>\r\n                            <Text type=\"secondary\">Link expires in 24 hours</Text>\r\n                            <Divider />\r\n                            <p style={{ textAlign: 'left' }}>{this.state.message}</p>\r\n                            <Divider />\r\n                            <p style={{ textAlign: 'left' }}>{this.state.filename}</p>\r\n                            <Divider />\r\n                            <Button type=\"primary\" shape=\"round\" onClick={this.downloadFile}>Download</Button>\r\n                        </>}\r\n                </Card>\r\n                {/* <img src={this.state.image} alt=\"\" /> */}\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default DownloadFile\r\n","import './App.css';\nimport FileSend from './FileSend';\nimport logo from './assets/transfileLogo.svg';\nimport { BrowserRouter, Switch, Route } from 'react-router-dom';\nimport DownloadFile from './DownloadFile';\nimport { Row, Col } from 'antd';\n\nfunction App() {\n  return (\n    <BrowserRouter>\n      <div className=\"App\">\n        <nav>\n          <ul className=\"navigation\">\n            <li><img src={logo} alt=\"logo\" height={20} style={{ margin: ' 15px 20px' }} /></li>\n          </ul>\n        </nav>\n        <Row className=\"main\">\n          <Col xs={24} sm={24} md={12} lg={12} xl={12} className=\"main__info\">\n            <div>\n              <h2>Transfer Files</h2>\n              <ul>\n                <li>Free</li>\n                <li>Fast</li>\n                <li>No registration</li>\n              </ul>\n            </div>\n          </Col>\n          <Col xs={24} sm={24} md={12} lg={12} xl={12} className=\"main__file\">\n            <Switch>\n              <Route exact path=\"/\" component={FileSend}></Route>\n              <Route path=\"/:slug\" component={DownloadFile}></Route>\n            </Switch>\n          </Col>\n        </Row>\n      </div>\n    </BrowserRouter>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <App />,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}